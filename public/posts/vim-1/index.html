<!doctype html><html lang=en dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>Vim Intro | Taylor's Blog</title>
<meta name=keywords content="programming">
<meta name=description content="How to get started with Vim">
<meta name=author content="Taylor Deckard">
<link rel=canonical href=https://www.taylordeckard.me/blog/posts/vim-1/>
<link crossorigin=anonymous href=/blog/assets/css/stylesheet.min.css rel="preload stylesheet" as=style>
<script defer crossorigin=anonymous src=/blog/assets/js/highlight.min.js onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://www.taylordeckard.me/blog/favicon.ico>
<link rel=icon type=image/png sizes=16x16 href=https://www.taylordeckard.me/blog/favicon-16x16.png>
<link rel=icon type=image/png sizes=32x32 href=https://www.taylordeckard.me/blog/favicon-32x32.png>
<link rel=apple-touch-icon href=https://www.taylordeckard.me/blog/apple-touch-icon.png>
<link rel=mask-icon href=https://www.taylordeckard.me/blog/safari-pinned-tab.svg>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<meta name=generator content="Hugo 0.92.0">
<noscript>
<style>#theme-toggle,.top-link{display:none}</style>
<style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style>
</noscript><meta property="og:title" content="Vim Intro">
<meta property="og:description" content="How to get started with Vim">
<meta property="og:type" content="article">
<meta property="og:url" content="https://www.taylordeckard.me/blog/posts/vim-1/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2022-02-08T00:00:00+00:00">
<meta property="article:modified_time" content="2022-02-08T00:00:00+00:00"><meta property="og:site_name" content="Blog">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="Vim Intro">
<meta name=twitter:description content="How to get started with Vim">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://www.taylordeckard.me/blog/posts/"},{"@type":"ListItem","position":3,"name":"Vim Intro","item":"https://www.taylordeckard.me/blog/posts/vim-1/"}]}</script>
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Vim Intro","name":"Vim Intro","description":"How to get started with Vim","keywords":["programming"],"articleBody":"I’ve been using Vim as my primary editor for ~7 years. When first starting to use it, I compared it to learning a musical instrument. When learning chord progressions I’d start by playing slowly at first, thinking for a bit about which fingers go on which positions. Similarly, I had to think for a few seconds about which keys to press for each edit I was about to make in Vim. As with an instrument, the number of times you repeat the sequences, the more fluid the motions become. After several weeks of coding in vim, I no longer had to pause.\nThe more I learned about things you can do with Vim, the more I wanted to use it… and there is a lot you can do. For this post, I’ll go over how to get started using Vim from scratch.\nI spend a majority of my day in the macOS Terminal, which is one of the reasons I like using Vim so much. In order to start from a completely clean slate though, I’ll install vim fresh in a docker container running ubuntu linux. To do that in Terminal the command is:\n1  docker run -ti ubuntu   In the ubuntu shell, I’ll install vim with:\n1  apt-get update \u0026\u0026 apt-get install -y vim   Then I’ll run Vim with vi. It looks like this: Now what? I’ll pretend for a moment that I have zero experience with Vim. The splash screen shown above gives a little context. Use :q. Use :help for on-line help. The Vim documentation is very good. You can also search for topics by using :help word (where “word” is the topic you want to search for.)\nExecuting Commands First, note that typing : in normal mode (I’ll talk more about modes in a bit) will display the : at the bottom of the window. Any characters you type next will also be displayed here. This is the command-line input. Notice :help and :q are commands that do different things. There are many different commands. You can even run shell commands from Vim.\nFor now, just remember that :q! quits Vim without saving. Notice I’ve added a !. This forces Vim to quit even if there are unsaved edits. Alternatively, :w saves, and :wq! quits and saves.\nMoving Around (part 1) Learning how to move the cursor around efficiently is probably one of the biggest challenges when starting out. The arrow keys can be used, but it is recommended to instead use h, j, k, and l. See the below mapping.\nUp: k Down: j Left: h Right: l Typing each of these keys individually will move one character for h or l and one line for j or k. If you want to move down 20 lines, you don’t have to press j 20 times. Instead, you can type 20j.\nWith that said, knowing which line to move down to can be difficult if you can’t see the line numbers. You can show them with :set number. To make jumping around even easier, you can :set relativenumber which will still display the line number of the current line, however all other lines display the number of lines away from the current line. See the example below.  .video-container { text-align: center; } .video-player { width: 600px; } @media screen and (max-width: 700px) { .video-player { width: 400px; } }  Sorry, your browser doesn't support embedded videos.   I like to have the relativenumber setting active every time I open a file. Luckily, there is an easy to make Vim remember all of your settings.\nConfiguring ~/.vimrc To store Vim configurations, I’ll create a .vimrc file.\n1  vi ~/.vimrc   Now I want to add the setting to show relative line numbers to the .vimrc file.\nset relativenumber There is a problem though. I haven’t mentioned how to insert text yet. To demonstrate, I’ll enter this key sequence: iset relativenumber:wq!. Now, to explain…\nModes Vim has a few different editor modes that you can switch between:\n Normal: Cursor navigation, entering other modes. Command: Command execution mode. (Initiated with the : key from Normal mode) Insert: Text editing mode. Replace: Anything you type will replace the underlying text. Visual: Used to select text. There are also Visual Line and Visual Block modes which allow text selection in different ways.  Consider the key sequence iset relativenumber:wq!. Vim starts in Normal mode. The i key initiates Insert mode. At this point, set relativenumber is recorded as it is typed. Then,  exits Insert mode and Vim is back in Normal mode. Typing : enters Command mode and wq! triggers the command to save and quit. When actively using Vim, I am switching between modes almost constantly.\nMapping Keys An awesome feature of Vim is the ability to map a key or key sequence to an action. This allows you customize Vim so that common tasks are easier to execute.\nFor instance, a mapping that I use is:\ninoremap jk  This makes it so typing jk (quickly) in Insert mode will trigger the Escape keypress to enter Normal mode. I find this is easier than reaching to the Escape key for such a commonly performed action. There are very few scenarios when I actually need to insert the letters jk and on those occasions I can type slow so that the mapping isn’t triggered. You can add the above line to your ~/.vimrc to try it out.\nThe mapping might seem confusing at first. The first term, inoremap is the type of mapping. We can break this down further into three parts:\n i - denotes Insert mode nore - not recursive (other mappings cannot trigger this mapping) map - basic map command  The second term, jk, is the keypress sequence that triggers the mapping (input.) The third term, , is the key that the mapping executes (output.)\nAnother mapping that I use frequently is:\nnnoremap  :Explore Note the first term begins with a n which denotes the mapping will only trigger in Normal mode. The  represents a combined keypress of the Ctrl and n keys. The last term, :Explore, enters Command mode and executes netrw, the native Vim file explorer. ( is “carriage return”, also known as the Enter key.)\nYou also have the option to make use of a “leader” key. This is a key of your choosing that you can use in mappings with the syntax: . I set my leader ket to be ; by adding the following line in my ~/.vimrc:\nlet mapleader = \";\" Now, the leader can be used in mappings like this:\nnnoremap w :w! This mapping allows for quick saving with ;w in Normal mode.\nYou can also disable default mappings. In the past, to train myself to stop using the arrow keys for navigation, I added the following to my ~/.vimrc:\nnnoremap   nnoremap   nnoremap   nnoremap   vnoremap   vnoremap   vnoremap   vnoremap   inoremap   inoremap   inoremap   inoremap   This overrides the arrow keys to be no-ops in Normal, Visual, and Insert modes. With these set, you must use the h, j, k, and l keys instead.\nThere are many alternative ways to move the cursor around in Vim though…\nMoving Around (part 2) When reading a large file, moving the cursor line by line is not ideal. Instead of using j/k to move, you can move half the page at a time with Ctrl-D/Ctrl-U.To go to the last line in the file, simply press G. To go back to the first line, press gg.  .video-container { text-align: center; } .video-player { width: 600px; } @media screen and (max-width: 700px) { .video-player { width: 400px; } }  Sorry, your browser doesn't support embedded videos.   On a long line, you may want to move forward and backward by word instead of by character. For this, use w to move to the next word and b to move to the previous. Similarly to moving down 20 lines with 20j, you can move forward 20 words with 20w.\nEntering ^ moves the cursor to the first non-whitespace character on a line and $ moves it to the last character.\nIf there is a particular character you need to reach on a line, f followed by the character will move the cursor to the next occurence of the character on the line. Using F will move to the previous occurence.\nYou can also easily perform a search to move your cursor to a word anywhere in the file. Simply type / (to search forward, ? to search backward) followed by the word you’re searching for, then Enter. When searching, n moves to the next occurence of the searched term, while N moves to the previous occurrence. Add the following line to your ~/.vimrc for Vim to highlight the search matches for you:\nset hlsearch Also, I like to use the following settings:\nset ignorecase set smartcase This makes it so searching for a word with all lowercase characters ignores case. However, a search including uppercase letters will be case-sensitive.  .video-container { text-align: center; } .video-player { width: 600px; } @media screen and (max-width: 700px) { .video-player { width: 400px; } }  Sorry, your browser doesn't support embedded videos.   When the cursor is placed on a character of a pair, like opening and closing brackets, % will move the cursor to the opposite character. For example, if you are editing a text file that looks like { \"an\": \"object\" } and your cursor is on {, pressing % will move the cursor to }.\nIf at any time you make a bad move, you can go back to your previous position with Ctrl-o.\nEditing Text I’ve mentioned that the i key from Normal mode switches to Insert mode in which text is recorded as you type. There are other ways to enter Insert mode as well. All of the keys below will enter Insert mode and also move the cursor to a new position:\n a: Moves the cursor one character to the right. A: Moves the cursor to the end of the line. I: Moves the cursor to the beginning of the line. o: Inserts a line below the current line. O: Inserts a line above the current line.  Some keys enter Insert mode and also delete characters:\n c: Used in combination with a motion will delete characters within the motion. For instance, cw will delete the word all text from the cursor to the next word. cc: Deletes the entire line. C: Deletes all text on the line after the cursor. s: Deletes a single character.  Alternatively, some keys delete characters without changing from Normal mode:\n d: Works similarly to c except does not enter Insert mode. dd: Deletes the entire line (same as cc.) D: Deletes all text on the line after the cursor (C.) x: Deletes a single character.  If at any point you make a mistake, you can undo the action with u. (To redo the undo, use Ctrl-r.)\nSelecting Text Text selection is made possible in Vim with Visual mode. Ways to enter visual mode are:\n v: Selects a single character. V: Selects the entire line. Ctrl-v: Selects a single character, however subsequent cursor movement selects blocks of text vertically.  Moving the cursor after entering Visual mode will add to selection until exiting Visual mode with Escape or Ctrl-C.\nOnce in visual mode, you can perform actions on the selected text such as:\n d/x: Delete the selected text. c/s: Delete the selected text and enter Insert mode. gu/gU/~: Change the case of all letters in the selection. /: Indent the selected text left or right. :norm @: Execute a macro on all lines (read about these a bit further down.) y: Yank (copy) the selected text.  Note that the above may not apply to Visual Block mode. Here’s an example of that:  .video-container { text-align: center; } .video-player { width: 600px; } @media screen and (max-width: 700px) { .video-player { width: 400px; } }  Sorry, your browser doesn't support embedded videos.   The above video shows how to convert a ordered list to an unordered list using Visual Block mode. The key sequence is Gls- Starting with the cursor in the top-left position, Ctrl-v enters Visual Block mode. Then, G moves the cursor to the bottom of the file, creating a selection of the entire first column. l moves the cursor to the right one character, expanding the selection to the first two columns. s then deletes the selected text and enters Insert mode. It is important to note that Insert mode from Visual Block affects all rows that were selected. This means that - inserts the dash and Esc exits Insert mode while inserting the “-” on all lines that were selected in the Visual Block.\nCopying and Pasting After selecting some text, you can yank (copy) it with y and then paste it with :\n p: Paste text immediately after the cursor. P: Paste text immediately before the cursor.  When yanked, text is stored in a register - a space in memory. Specifically, when yanked, text is stored in the default register (\").\nUsing a delete key (x, d, etc.) is actually similar to a “cut” in that some text is deleted and also stored in a register so that it can later be pasted.\nRegisters You can view the contents of a register by pressing Ctrl-r in Insert mode followed by the name of the register. You can try this out by selecting some text and typing yi\". This output is the same as paste.\nYou can also yank and paste to a specified register. Select some text and type \"ay. This yanks the selection to register a. Now, you can paste the contents of the a register with \"ap. You could also use  to do the same, as described above. (In Insert mode, type a.)\nMacros Macros are a useful feature that also make use of registers. They allow you to record a sequence of key presses and repeat the sequence any number of times.\nIn the below example, I use a macro to create an ordered list:  .video-container { text-align: center; } .video-player { width: 600px; } @media screen and (max-width: 700px) { .video-player { width: 400px; } }  Sorry, your browser doesn't support embedded videos.   First, i1.  is entered on the first line. Then, qa begins recording the macro. Any key pressed at this point will be recorded until q is pressed in Normal mode. ^ moves the cursor to the begining of the line. v enters visual mode and f  moves the cursor to the first space character. Then y yanks “1. \" and moves the cursor back to the beginning of the line. j moves the cursor down. P pastes the “1. \" before the cursor. ^ moves to the beginning of the 2nd line and  increments the number under the cursor by 1. Finally, q ends recording of the macro. The macro stored in the a register looks like this: ^vf yjP^.\nTo use the macro, select the lines you want to execute the macro on and type :norm @a. Another way to do this is to count the number of lines you need to apply the macro to and with the cursor on the first line in Normal mode type 7@a. (The number of lines is 7 for the example above.)\nIf you make a mistake when recording a macro, you can paste the register, correct the text, and then yank the fixed text back to the register. Then play the macro as you normally would.\nPlugins Check out VimAwesome for plugins. I personally use:\n ALE - Linting YouCompleteMe - Autocompletion incsearch.vim - Highlight text as you search vim-airline - Enhanced Status Bar vim-commentary - Mappings to add code comments vim-fugitive - Git Integration vim-surround - Mappings to easily delete, change and add parentheses, brackets, quotes, XML tags, and more surroundings in pairs.  For an example, I’ll install vim-airline using Vim’s native packages.\nFirst, I’ll need git:\napt install -y git Now, I’ll create a directory for the plugins:\nmkdir -p ~/.vim/pack/plugins/start Next, clone the vim-airline repository into the directory that was just created.\ngit clone https://github.com/vim-airline/vim-airline.git ~/.vim/pack/plugins/start/vim-airline Finally, add the following line to the ~/.vimrc to set the maximum number of colors that can be displayed by the host terminal:\nset t_Co=256 To check that the plugin is installed and working, restart Vim. It should now look like this: ","wordCount":"2758","inLanguage":"en","datePublished":"2022-02-08T00:00:00Z","dateModified":"2022-02-08T00:00:00Z","author":{"@type":"Person","name":"Taylor Deckard"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.taylordeckard.me/blog/posts/vim-1/"},"publisher":{"@type":"Organization","name":"Taylor's Blog","logo":{"@type":"ImageObject","url":"https://www.taylordeckard.me/blog/favicon.ico"}}}</script>
</head>
<body id=top>
<script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script>
<header class=header>
<nav class=nav>
<div class=logo>
<a href=https://www.taylordeckard.me/blog accesskey=h title="Blog (Alt + H)">Blog</a>
<span class=logo-switches>
<button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
</button>
</span>
</div>
<ul id=menu>
<li>
<a href=https://www.taylordeckard.me/blog/archives title=Archives>
<span>Archives</span>
</a>
</li>
<li>
<a href=https://www.taylordeckard.me/blog/search title="Search (Alt + /)" accesskey=/>
<span>Search</span>
</a>
</li>
<li>
<a href=https://www.taylordeckard.me/blog/tags title=Tags>
<span>Tags</span>
</a>
</li>
<li>
<a href=https://taylordeckard.me title=taylordeckard.me>
<span>taylordeckard.me</span>
</a>
</li>
</ul>
</nav>
</header>
<main class=main>
<article class=post-single>
<header class=post-header>
<div class=breadcrumbs><a href=https://www.taylordeckard.me/blog>Home</a>&nbsp;»&nbsp;<a href=https://www.taylordeckard.me/blog/posts/>Posts</a></div>
<h1 class=post-title>
Vim Intro
</h1>
<div class=post-description>
How to get started with Vim
</div>
<div class=post-meta><span title="2022-02-08 00:00:00 +0000 UTC">February 8, 2022</span>&nbsp;·&nbsp;13 min&nbsp;·&nbsp;Taylor Deckard&nbsp;|&nbsp;<a href=https://github.com/taylordeckard/blog/tree/main/content/posts/vim-1.md rel="noopener noreferrer" target=_blank>Suggest Changes</a>
</div>
</header>
<div class=post-content><p><img loading=lazy src=/blog/images/vim-1/vim-logo.png alt=Vim>
</p>
<p>I&rsquo;ve been using Vim as my primary editor for ~7 years. When first starting to use it, I compared it to learning a musical instrument. When learning chord progressions I&rsquo;d start by playing slowly at first, thinking for a bit about which fingers go on which positions. Similarly, I had to think for a few seconds about which keys to press for each edit I was about to make in Vim. As with an instrument, the number of times you repeat the sequences, the more fluid the motions become. After several weeks of coding in vim, I no longer had to pause.</p>
<p>The more I learned about things you can do with Vim, the more I wanted to use it&mldr; and there is a lot you can do. For this post, I&rsquo;ll go over how to get started using Vim from scratch.</p>
<p>I spend a majority of my day in the macOS Terminal, which is one of the reasons I like using Vim so much. In order to start from a completely clean slate though, I&rsquo;ll install vim fresh in a docker container running ubuntu linux. To do that in Terminal the command is:</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-sh data-lang=sh>docker run -ti ubuntu
</code></pre></td></tr></table>
</div>
</div><p>In the ubuntu shell, I&rsquo;ll install vim with:</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-sh data-lang=sh>apt-get update <span class=o>&amp;&amp;</span> apt-get install -y vim
</code></pre></td></tr></table>
</div>
</div><p>Then I&rsquo;ll run Vim with <code>vi</code>. It looks like this:
<img loading=lazy src=/blog/images/vim-1/vi-splash.png alt="Vim Splash">
</p>
<p>Now what? I&rsquo;ll pretend for a moment that I have zero experience with Vim. The splash screen shown above gives a little context. Use <code>:q&lt;Enter></code>. Use <code>:help&lt;Enter></code> for on-line help. The Vim documentation is very good. You can also search for topics by using <code>:help word&lt;Enter></code> (where &ldquo;word&rdquo; is the topic you want to search for.)</p>
<h3 id=executing-commands>Executing Commands<a hidden class=anchor aria-hidden=true href=#executing-commands>#</a></h3>
<p>First, note that typing <code>:</code> in normal mode (I&rsquo;ll talk more about modes in a bit) will display the <code>:</code> at the bottom of the window. Any characters you type next will also be displayed here. This is the command-line input. Notice <code>:help</code> and <code>:q</code> are commands that do different things. There are many different commands. You can even run shell commands from Vim.</p>
<p>For now, just remember that <code>:q!&lt;Enter></code> quits Vim without saving. Notice I&rsquo;ve added a <code>!</code>. This forces Vim to quit even if there are unsaved edits. Alternatively, <code>:w&lt;Enter></code> saves, and <code>:wq!&lt;Enter></code> quits and saves.</p>
<h3 id=moving-around-part-1>Moving Around (part 1)<a hidden class=anchor aria-hidden=true href=#moving-around-part-1>#</a></h3>
<p>Learning how to move the cursor around efficiently is probably one of the biggest challenges when starting out. The arrow keys can be used, but it is recommended to instead use <code>h</code>, <code>j</code>, <code>k</code>, and <code>l</code>. See the below mapping.</p>
<pre tabindex=0><code>Up: k
Down: j
Left: h
Right: l
</code></pre><p>Typing each of these keys individually will move one character for <code>h</code> or <code>l</code> and one line for <code>j</code> or <code>k</code>. If you want to move down 20 lines, you don&rsquo;t have to press <code>j</code> 20 times. Instead, you can type <code>20j</code>.</p>
<p>With that said, knowing which line to move down to can be difficult if you can&rsquo;t see the line numbers. You can show them with <code>:set number&lt;Enter></code>. To make jumping around even easier, you can <code>:set relativenumber&lt;Enter></code> which will still display the line number of the current line, however all other lines display the number of lines away from the current line. See the example below.
<style>.video-container{text-align:center}.video-player{width:600px}@media screen and (max-width:700px){.video-player{width:400px}}</style>
<div class=video-container>
<video controls autoplay loop class=video-player>
<source src=/blog/images/vim-1/vim-line-nos.mp4 type=video/mp4>
Sorry, your browser doesn't support embedded videos.
</video>
</div>
</p>
<p>I like to have the <strong>relativenumber</strong> setting active every time I open a file. Luckily, there is an easy to make Vim remember all of your settings.</p>
<h3 id=configuring-vimrc>Configuring ~/.vimrc<a hidden class=anchor aria-hidden=true href=#configuring-vimrc>#</a></h3>
<p>To store Vim configurations, I&rsquo;ll create a .vimrc file.</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-sh data-lang=sh>vi ~/.vimrc
</code></pre></td></tr></table>
</div>
</div><p>Now I want to add the setting to show relative line numbers to the .vimrc file.</p>
<pre tabindex=0><code>set relativenumber
</code></pre><p>There is a problem though. I haven&rsquo;t mentioned how to insert text yet. To demonstrate, I&rsquo;ll enter this key sequence: <code>iset relativenumber&lt;Esc>:wq!&lt;Enter></code>. Now, to explain&mldr;</p>
<h3 id=modes>Modes<a hidden class=anchor aria-hidden=true href=#modes>#</a></h3>
<p>Vim has a few different editor modes that you can switch between:</p>
<ul>
<li><strong>Normal</strong>: Cursor navigation, entering other modes.</li>
<li><strong>Command</strong>: Command execution mode. (Initiated with the <code>:</code> key from Normal mode)</li>
<li><strong>Insert</strong>: Text editing mode.</li>
<li><strong>Replace</strong>: Anything you type will replace the underlying text.</li>
<li><strong>Visual</strong>: Used to select text. There are also Visual Line and Visual Block modes which allow text selection in different ways.</li>
</ul>
<p>Consider the key sequence <code>iset relativenumber&lt;Esc>:wq!&lt;Enter></code>. Vim starts in <strong>Normal</strong> mode. The <code>i</code> key initiates <strong>Insert</strong> mode. At this point, <code>set relativenumber</code> is recorded as it is typed. Then, <code>&lt;Esc></code> exits <strong>Insert</strong> mode and Vim is back in <strong>Normal</strong> mode. Typing <code>:</code> enters <strong>Command</strong> mode and <code>wq!&lt;Enter></code> triggers the command to save and quit. When actively using Vim, I am switching between modes almost constantly.</p>
<h3 id=mapping-keys>Mapping Keys<a hidden class=anchor aria-hidden=true href=#mapping-keys>#</a></h3>
<p>An awesome feature of Vim is the ability to map a key or key sequence to an action. This allows you customize Vim so that common tasks are easier to execute.</p>
<p>For instance, a mapping that I use is:</p>
<pre tabindex=0><code>inoremap jk &lt;esc&gt;
</code></pre><p>This makes it so typing <code>jk</code> (quickly) in <strong>Insert</strong> mode will trigger the Escape keypress to enter <strong>Normal</strong> mode. I find this is easier than reaching to the Escape key for such a commonly performed action. There are very few scenarios when I actually need to insert the letters <code>jk</code> and on those occasions I can type slow so that the mapping isn&rsquo;t triggered. You can add the above line to your <code>~/.vimrc</code> to try it out.</p>
<p>The mapping might seem confusing at first. The first term, <code>inoremap</code> is the type of mapping. We can break this down further into three parts:</p>
<ol>
<li><code>i</code> - denotes <strong>Insert</strong> mode</li>
<li><code>nore</code> - not recursive (other mappings cannot trigger this mapping)</li>
<li><code>map</code> - basic map command</li>
</ol>
<p>The second term, <code>jk</code>, is the keypress sequence that triggers the mapping (input.) The third term, <code>&lt;esc></code>, is the key that the mapping executes (output.)</p>
<p>Another mapping that I use frequently is:</p>
<pre tabindex=0><code>nnoremap &lt;C-n&gt; :Explore&lt;cr&gt;
</code></pre><p>Note the first term begins with a <code>n</code> which denotes the mapping will only trigger in <strong>Normal</strong> mode. The <code>&lt;C-n></code> represents a combined keypress of the <code>Ctrl</code> and <code>n</code> keys. The last term, <code>:Explore&lt;cr></code>, enters <strong>Command</strong> mode and executes <strong>netrw</strong>, the native Vim file explorer. (<code>&lt;cr></code> is &ldquo;carriage return&rdquo;, also known as the <code>Enter</code> key.)</p>
<p>You also have the option to make use of a &ldquo;leader&rdquo; key. This is a key of your choosing that you can use in mappings with the syntax: <code>&lt;leader></code>. I set my leader ket to be <code>;</code> by adding the following line in my <code>~/.vimrc</code>:</p>
<pre tabindex=0><code>let mapleader = &quot;;&quot;
</code></pre><p>Now, the leader can be used in mappings like this:</p>
<pre tabindex=0><code>nnoremap &lt;leader&gt;w :w!&lt;cr&gt;
</code></pre><p>This mapping allows for quick saving with <code>;w</code> in <strong>Normal</strong> mode.</p>
<p>You can also disable default mappings. In the past, to train myself to stop using the arrow keys for navigation, I added the following to my <code>~/.vimrc</code>:</p>
<pre tabindex=0><code>nnoremap &lt;Up&gt; &lt;nop&gt;
nnoremap &lt;Down&gt; &lt;nop&gt;
nnoremap &lt;Left&gt; &lt;nop&gt;
nnoremap &lt;Right&gt; &lt;nop&gt;
vnoremap &lt;Up&gt; &lt;nop&gt;
vnoremap &lt;Down&gt; &lt;nop&gt;
vnoremap &lt;Left&gt; &lt;nop&gt;
vnoremap &lt;Right&gt; &lt;nop&gt;
inoremap &lt;Up&gt; &lt;nop&gt;
inoremap &lt;Down&gt; &lt;nop&gt;
inoremap &lt;Left&gt; &lt;nop&gt;
inoremap &lt;Right&gt; &lt;nop&gt;
</code></pre><p>This overrides the arrow keys to be no-ops in <strong>Normal</strong>, <strong>Visual</strong>, and <strong>Insert</strong> modes. With these set, you <em>must</em> use the <code>h</code>, <code>j</code>, <code>k</code>, and <code>l</code> keys instead.</p>
<p>There are many alternative ways to move the cursor around in Vim though&mldr;</p>
<h3 id=moving-around-part-2>Moving Around (part 2)<a hidden class=anchor aria-hidden=true href=#moving-around-part-2>#</a></h3>
<p>When reading a large file, moving the cursor line by line is not ideal. Instead of using <code>j</code>/<code>k</code> to move, you can move half the page at a time with <code>Ctrl-D</code>/<code>Ctrl-U</code>.To go to the last line in the file, simply press <code>G</code>. To go back to the first line, press <code>gg</code>.
<style>.video-container{text-align:center}.video-player{width:600px}@media screen and (max-width:700px){.video-player{width:400px}}</style>
<div class=video-container>
<video controls autoplay loop class=video-player>
<source src=/blog/images/vim-1/vim-movement.mp4 type=video/mp4>
Sorry, your browser doesn't support embedded videos.
</video>
</div>
</p>
<p>On a long line, you may want to move forward and backward by word instead of by character. For this, use <code>w</code> to move to the next word and <code>b</code> to move to the previous. Similarly to moving down 20 lines with <code>20j</code>, you can move forward 20 words with <code>20w</code>.</p>
<p>Entering <code>^</code> moves the cursor to the first non-whitespace character on a line and <code>$</code> moves it to the last character.</p>
<p>If there is a particular character you need to reach on a line, <code>f</code> followed by the character will move the cursor to the next occurence of the character on the line. Using <code>F</code> will move to the previous occurence.</p>
<p>You can also easily perform a search to move your cursor to a word anywhere in the file. Simply type <code>/</code> (to search forward, <code>?</code> to search backward) followed by the word you&rsquo;re searching for, then <code>Enter</code>. When searching, <code>n</code> moves to the next occurence of the searched term, while <code>N</code> moves to the previous occurrence. Add the following line to your <code>~/.vimrc</code> for Vim to highlight the search matches for you:</p>
<pre tabindex=0><code>set hlsearch
</code></pre><p>Also, I like to use the following settings:</p>
<pre tabindex=0><code>set ignorecase
set smartcase
</code></pre><p>This makes it so searching for a word with all lowercase characters ignores case. However, a search including uppercase letters will be case-sensitive.
<style>.video-container{text-align:center}.video-player{width:600px}@media screen and (max-width:700px){.video-player{width:400px}}</style>
<div class=video-container>
<video controls autoplay loop class=video-player>
<source src=/blog/images/vim-1/vim-search.mp4 type=video/mp4>
Sorry, your browser doesn't support embedded videos.
</video>
</div>
</p>
<p>When the cursor is placed on a character of a pair, like opening and closing brackets, <code>%</code> will move the cursor to the opposite character. For example, if you are editing a text file that looks like <code>{ "an": "object" }</code> and your cursor is on <code>{</code>, pressing <code>%</code> will move the cursor to <code>}</code>.</p>
<p>If at any time you make a bad move, you can go back to your previous position with <code>Ctrl-o</code>.</p>
<h3 id=editing-text>Editing Text<a hidden class=anchor aria-hidden=true href=#editing-text>#</a></h3>
<p>I&rsquo;ve mentioned that the <code>i</code> key from <strong>Normal</strong> mode switches to <strong>Insert</strong> mode in which text is recorded as you type. There are other ways to enter <strong>Insert</strong> mode as well. All of the keys below will enter <strong>Insert</strong> mode and also move the cursor to a new position:</p>
<ul>
<li><code>a</code>: Moves the cursor one character to the right.</li>
<li><code>A</code>: Moves the cursor to the end of the line.</li>
<li><code>I</code>: Moves the cursor to the beginning of the line.</li>
<li><code>o</code>: Inserts a line below the current line.</li>
<li><code>O</code>: Inserts a line above the current line.</li>
</ul>
<p>Some keys enter <strong>Insert</strong> mode and also delete characters:</p>
<ul>
<li><code>c</code>: Used in combination with a motion will delete characters within the motion. For instance, <code>cw</code> will delete the word all text from the cursor to the next word.</li>
<li><code>cc</code>: Deletes the entire line.</li>
<li><code>C</code>: Deletes all text on the line after the cursor.</li>
<li><code>s</code>: Deletes a single character.</li>
</ul>
<p>Alternatively, some keys delete characters without changing from <strong>Normal</strong> mode:</p>
<ul>
<li><code>d</code>: Works similarly to <code>c</code> except does not enter <strong>Insert</strong> mode.</li>
<li><code>dd</code>: Deletes the entire line (same as <code>cc</code>.)</li>
<li><code>D</code>: Deletes all text on the line after the cursor (<code>C</code>.)</li>
<li><code>x</code>: Deletes a single character.</li>
</ul>
<p>If at any point you make a mistake, you can undo the action with <code>u</code>. (To redo the undo, use <code>Ctrl-r</code>.)</p>
<h3 id=selecting-text>Selecting Text<a hidden class=anchor aria-hidden=true href=#selecting-text>#</a></h3>
<p>Text selection is made possible in Vim with <strong>Visual</strong> mode. Ways to enter visual mode are:</p>
<ul>
<li><code>v</code>: Selects a single character.</li>
<li><code>V</code>: Selects the entire line.</li>
<li><code>Ctrl-v</code>: Selects a single character, however subsequent cursor movement selects blocks of text vertically.</li>
</ul>
<p>Moving the cursor after entering <strong>Visual</strong> mode will add to selection until exiting <strong>Visual</strong> mode with <code>Escape</code> or <code>Ctrl-C</code>.</p>
<p>Once in visual mode, you can perform actions on the selected text such as:</p>
<ul>
<li><code>d</code>/<code>x</code>: Delete the selected text.</li>
<li><code>c</code>/<code>s</code>: Delete the selected text and enter <strong>Insert</strong> mode.</li>
<li><code>gu</code>/<code>gU</code>/<code>~</code>: Change the case of all letters in the selection.</li>
<li><code>&lt;</code>/<code>></code>: Indent the selected text left or right.</li>
<li><code>:norm @&lt;register></code>: Execute a macro on all lines (read about these a bit further down.)</li>
<li><code>y</code>: Yank (copy) the selected text.</li>
</ul>
<p>Note that the above may not apply to <strong>Visual Block</strong> mode. Here&rsquo;s an example of that:
<style>.video-container{text-align:center}.video-player{width:600px}@media screen and (max-width:700px){.video-player{width:400px}}</style>
<div class=video-container>
<video controls autoplay loop class=video-player>
<source src=/blog/images/vim-1/vim-v-block.mp4 type=video/mp4>
Sorry, your browser doesn't support embedded videos.
</video>
</div>
The above video shows how to convert a ordered list to an unordered list using <strong>Visual Block</strong> mode. The key sequence is <code>&lt;Ctrl-v>Gls-&lt;Esc></code> Starting with the cursor in the top-left position, <code>Ctrl-v</code> enters <strong>Visual Block</strong> mode. Then, <code>G</code> moves the cursor to the bottom of the file, creating a selection of the entire first column. <code>l</code> moves the cursor to the right one character, expanding the selection to the first two columns. <code>s</code> then deletes the selected text and enters
<strong>Insert</strong> mode. It is important to note that <strong>Insert</strong> mode from <strong>Visual Block</strong> affects all rows that were selected. This means that <code>-</code> inserts the dash and <code>Esc</code> exits <strong>Insert</strong> mode while inserting the &ldquo;-&rdquo; on all lines that were selected in the <strong>Visual Block</strong>.</p>
<h3 id=copying-and-pasting>Copying and Pasting<a hidden class=anchor aria-hidden=true href=#copying-and-pasting>#</a></h3>
<p>After selecting some text, you can yank (copy) it with <code>y</code> and then paste it with :</p>
<ul>
<li><code>p</code>: Paste text immediately after the cursor.</li>
<li><code>P</code>: Paste text immediately before the cursor.</li>
</ul>
<p>When yanked, text is stored in a register - a space in memory. Specifically, when yanked, text is stored in the default register (<code>"</code>).</p>
<p>Using a delete key (<code>x</code>, <code>d</code>, etc.) is actually similar to a &ldquo;cut&rdquo; in that some text is deleted and also stored in a register so that it can later be pasted.</p>
<h3 id=registers>Registers<a hidden class=anchor aria-hidden=true href=#registers>#</a></h3>
<p>You can view the contents of a register by pressing <code>Ctrl-r</code> in <strong>Insert</strong> mode followed by the name of the register. You can try this out by selecting some text and typing <code>yi&lt;Ctrl-r>"</code>. This output is the same as paste.</p>
<p>You can also yank and paste to a specified register. Select some text and type <code>"ay</code>. This yanks the selection to register <code>a</code>. Now, you can paste the contents of the <code>a</code> register with <code>"ap</code>. You could also use <code>&lt;Ctrl-r></code> to do the same, as described above. (In <strong>Insert</strong> mode, type <code>&lt;Ctrl-r>a</code>.)</p>
<h3 id=macros>Macros<a hidden class=anchor aria-hidden=true href=#macros>#</a></h3>
<p>Macros are a useful feature that also make use of registers. They allow you to record a sequence of key presses and repeat the sequence any number of times.</p>
<p>In the below example, I use a macro to create an ordered list:
<style>.video-container{text-align:center}.video-player{width:600px}@media screen and (max-width:700px){.video-player{width:400px}}</style>
<div class=video-container>
<video controls autoplay loop class=video-player>
<source src=/blog/images/vim-1/vim-macro.mp4 type=video/mp4>
Sorry, your browser doesn't support embedded videos.
</video>
</div>
First, <code>i1. </code> is entered on the first line. Then, <code>qa</code> begins recording the macro. Any key pressed at this point will be recorded until <code>q</code> is pressed in <strong>Normal</strong> mode. <code>^</code> moves the cursor to the begining of the line. <code>v</code> enters visual mode and <code>f </code> moves the cursor to the first space character. Then <code>y</code> yanks &ldquo;1. " and moves the cursor back to the beginning of the line. <code>j</code> moves the cursor down. <code>P</code> pastes the &ldquo;1. " before the cursor. <code>^</code> moves to the beginning of the 2nd line and
<code>&lt;Ctrl-a></code> increments the number under the cursor by 1. Finally, <code>q</code> ends recording of the macro. The macro stored in the <code>a</code> register looks like this: <code>^vf yjP^&lt;c-a></code>.</p>
<p>To use the macro, select the lines you want to execute the macro on and type <code>:norm @a&lt;Enter></code>. Another way to do this is to count the number of lines you need to apply the macro to and with the cursor on the first line in <strong>Normal</strong> mode type <code>7@a</code>. (The number of lines is <code>7</code> for the example above.)</p>
<p>If you make a mistake when recording a macro, you can paste the register, correct the text, and then yank the fixed text back to the register. Then play the macro as you normally would.</p>
<h3 id=plugins>Plugins<a hidden class=anchor aria-hidden=true href=#plugins>#</a></h3>
<p>Check out <a href=https://vimawesome.com/>VimAwesome</a> for plugins. I personally use:</p>
<ul>
<li><a href=https://vimawesome.com/plugin/ale>ALE</a> - Linting</li>
<li><a href=https://vimawesome.com/plugin/youcompleteme>YouCompleteMe</a> - Autocompletion</li>
<li><a href=https://vimawesome.com/plugin/incsearch-vim>incsearch.vim</a> - Highlight text as you search</li>
<li><a href=https://vimawesome.com/plugin/vim-airline>vim-airline</a> - Enhanced Status Bar</li>
<li><a href=https://vimawesome.com/plugin/commentary-vim>vim-commentary</a> - Mappings to add code comments</li>
<li><a href=https://vimawesome.com/plugin/fugitive-vim>vim-fugitive</a> - Git Integration</li>
<li><a href=https://vimawesome.com/plugin/surround-vim>vim-surround</a> - Mappings to easily delete, change and add parentheses, brackets, quotes, XML tags, and more surroundings in pairs.</li>
</ul>
<p>For an example, I&rsquo;ll install <a href=https://vimawesome.com/plugin/vim-airline>vim-airline</a> using Vim&rsquo;s native packages.</p>
<p>First, I&rsquo;ll need git:</p>
<pre tabindex=0><code>apt install -y git
</code></pre><p>Now, I&rsquo;ll create a directory for the plugins:</p>
<pre tabindex=0><code>mkdir -p ~/.vim/pack/plugins/start
</code></pre><p>Next, clone the <a href=https://vimawesome.com/plugin/vim-airline>vim-airline</a> repository into the directory that was just created.</p>
<pre tabindex=0><code>git clone https://github.com/vim-airline/vim-airline.git ~/.vim/pack/plugins/start/vim-airline
</code></pre><p>Finally, add the following line to the <code>~/.vimrc</code> to set the maximum number of colors that can be displayed by the host terminal:</p>
<pre tabindex=0><code>set t_Co=256
</code></pre><p>To check that the plugin is installed and working, restart Vim. It should now look like this:
<img loading=lazy src=/blog/images/vim-1/vim-plugin.png alt="Vim Plugin">
</p>
</div>
<footer class=post-footer>
<ul class=post-tags>
<li><a href=https://www.taylordeckard.me/blog/tags/programming/>programming</a></li>
</ul>
<nav class=paginav>
<a class=next href=https://www.taylordeckard.me/blog/posts/elasticsearch-intro/>
<span class=title>Next Page »</span>
<br>
<span>Elasticsearch Intro</span>
</a>
</nav>
</footer>
</article>
</main>
<a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a>
<script>let menu=document.getElementById('menu');menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script>
<script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script>
<script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script>
<script>document.querySelectorAll('pre > code').forEach(b=>{const c=b.parentNode.parentNode,a=document.createElement('button');a.classList.add('copy-code'),a.innerText='copy';function d(){a.innerText='copied!',setTimeout(()=>{a.innerText='copy'},2e3)}a.addEventListener('click',e=>{if('clipboard'in navigator){navigator.clipboard.writeText(b.textContent),d();return}const a=document.createRange();a.selectNodeContents(b);const c=window.getSelection();c.removeAllRanges(),c.addRange(a);try{document.execCommand('copy'),d()}catch(a){}c.removeRange(a)}),c.classList.contains("highlight")?c.appendChild(a):c.parentNode.firstChild==c||(b.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?b.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(a):b.parentNode.appendChild(a))})</script>
</body>
</html>