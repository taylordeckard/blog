<!doctype html><html lang=en dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>Wordle CLI with Node.js and TypeScript | Taylor's Blog</title>
<meta name=keywords content="programming,node.js,typescript">
<meta name=description content="How to build a Wordle CLI with Node.js and TypeScript">
<meta name=author content="Taylor Deckard">
<link rel=canonical href=https://www.taylordeckard.me/blog/posts/wordle/>
<link crossorigin=anonymous href=/blog/assets/css/stylesheet.min.css rel="preload stylesheet" as=style>
<script defer crossorigin=anonymous src=/blog/assets/js/highlight.min.js onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://www.taylordeckard.me/blog/favicon.ico>
<link rel=icon type=image/png sizes=16x16 href=https://www.taylordeckard.me/blog/favicon-16x16.png>
<link rel=icon type=image/png sizes=32x32 href=https://www.taylordeckard.me/blog/favicon-32x32.png>
<link rel=apple-touch-icon href=https://www.taylordeckard.me/blog/apple-touch-icon.png>
<link rel=mask-icon href=https://www.taylordeckard.me/blog/safari-pinned-tab.svg>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<meta name=generator content="Hugo 0.92.0">
<noscript>
<style>#theme-toggle,.top-link{display:none}</style>
<style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style>
</noscript><meta property="og:title" content="Wordle CLI with Node.js and TypeScript">
<meta property="og:description" content="How to build a Wordle CLI with Node.js and TypeScript">
<meta property="og:type" content="article">
<meta property="og:url" content="https://www.taylordeckard.me/blog/posts/wordle/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2022-04-22T00:00:00+00:00">
<meta property="article:modified_time" content="2022-04-22T00:00:00+00:00"><meta property="og:site_name" content="Blog">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="Wordle CLI with Node.js and TypeScript">
<meta name=twitter:description content="How to build a Wordle CLI with Node.js and TypeScript">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://www.taylordeckard.me/blog/posts/"},{"@type":"ListItem","position":3,"name":"Wordle CLI with Node.js and TypeScript","item":"https://www.taylordeckard.me/blog/posts/wordle/"}]}</script>
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Wordle CLI with Node.js and TypeScript","name":"Wordle CLI with Node.js and TypeScript","description":"How to build a Wordle CLI with Node.js and TypeScript","keywords":["programming","node.js","typescript"],"articleBody":"A few months ago, our team was tasked with leading a new hire programming bootcamp. My focus has been creating course assignments for JavaScript, TypeScript, and Node.js. As a learning exercise, I created a CLI clone of the popular game Wordle to use as an example project.\nFor the bootcamp, I’ve broken down the project into various learning exercises. These exercises are assessed by unit test cases and linting jobs that run in Concourse CI. The tasks are fairly basic introductory material and (in my opinion) are less interesting than the overall functionality of the project.\nFor instance, in order to accurately clone the actual Wordle, I did a bit of reverse-engineering that turned out to be fairly simple. Inspecting the Wordle web page JavaScript source reveals that all of the answers for each day are stored in an array of strings. The answer for the current day is determined by using an index derived from the number of days since the first day of Wordle (May 5, 2021.)\nWith this information, I began coding a program that:\n Fetches the actual Wordle web page index.html file and parses it to get the JavaScript source file.  1 2 3  public static parseWordleIndex(html: string) { return html.match(//)?.[1] ?? ''; }   Fetches the JavaScript file from step 1 and parses it to get the list of answers.  1 2 3 4 5 6 7 8  public static parseWordleJavascript(jsFile: string) { try { const array = jsFile.match(/;var ..=(\\[.*?\\])/)?.[1]; return JSON.parse(array ?? '[]'); } catch (e) { return []; } }   Finds the number of days since May 5, 2021 and uses that to get the current day’s answer. See the Pen Sample by Taylor Deckard (@taylordeckard) on CodePen.    From this point, all that is left is to write the CLI and game logic. I chose to use commander.js, which is a nice wrapper for argument parsing and command execution. Basic setup looks like this:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23  import { program } from 'commander'; import { commands } from './commands'; program .name('wordle') .description('A CLI Wordle clone') .version('1.0.0'); // Split commands out into separate modules to keep things tidy. // Add each command to the program here. commands.forEach((command) = { let pgm = program .command(command.name) .description(command.description); if (command.options?.length) { command.options.forEach((opt) = { pgm = pgm.option(opt.invocation, opt.description, opt.default); }); } pgm = pgm.action(command.action); }); program.parse(process.argv);   The game logic is pretty straight-forward. It give the user 6 chances to guess the correct word. After each guess, log green/yellow colors to indicate correctness.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28  /** * Note: This is a snippet from a class method. The DataService * is a singleton used to retrieve and store remote data, * such as the Wordle answer list. */ const ds = DataService.instance; this._solution = (await ds.solution) ?? ''; // See next code snippet for the Prompter logic const prompter = new Prompter(); // MAX_ATTEMPTS is 6 for (let i = 0; i  MAX_ATTEMPTS; i += 1) { // Pass in the number of attempts remaining to inform the user  const { guess } = await prompter.promptUserGuess(MAX_ATTEMPTS - i); // Print results  new Guess(guess, this._solution) .markGreen() .markYellow() .logOutput(); if (guess === this._solution) { Logger.printf(YOU_WIN); this._solved = true; break; } } if (!this._solved) { Logger.printf(YOU_LOSE, this._solution); }   For prompting the user, I chose to use the inquirer.js module. It allows for input transformation and validation.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  public async promptUserGuess(attemptsRemaining: number) { if (!this._acceptableGuesses) { const ds = DataService.instance; this._acceptableGuesses = await ds.wordlist; } return inquirer.prompt([ { message: `Guess a 5-letter word (${attemptsRemaining}attempts remaining):`, name: 'guess', transformer: (input: string) = input.toLowerCase(), type: 'input', validate: Validator.checkGuess.bind(this, this._acceptableGuesses), }, ]); }   Finally, the logic for colorizing the guesses is:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41  /** * Marks letters of the guess as green (correct) * * @returns {Guess} guess */ public markGreen() { // iterate over each letter of the guess  for (let i = 0; i  5; i += 1) { const guessChar = this._guess[i]; const actualChar = this._solution[i]; // if the character in the guess matches the character at the  // same index of the solution, it should be marked green  if (guessChar === actualChar) { this._output[i] = Colorizer.green(guessChar); this._correctness[i] = Correctness.GREEN; this._remainingChars[i] = ''; } } return this; } /** * Marks letters of the guess as yellow (included in solution but wrong index) * * @returns {Guess} guess */ public markYellow() { // iterate over each letter of the guess  for (let i = 0; i  5; i += 1) { const guessChar = this._guess[i]; /* if the character is included in the _remainingChars and does not match the current index of the solution, mark yellow note: _remainingChars is an array of characters of the solution that have not been marked green */ if (this._remainingChars.includes(guessChar) \u0026\u0026 guessChar !== this._solution[i]) { this._correctness[i] = Correctness.YELLOW; this._output[i] = Colorizer.yellow(guessChar); } } return this; }   Now it’s done. The program can be executed with:\n1  npm start -- start   Later, I started working on another command that tries to solve the Wordle puzzle using an algorithm. For a start, I filtered the list of possible words based on previous guess outcomes. Then, I tested the algorithm against the list of wordle answers. I began tweaking the algorithm from there, doing things like trying different starting words or using strategies to eliminate letters.\nI was able adjust enough to achieve ~99.61% win accuracy. The automation can be run with:\n1  npm start -- solve   I’m sure the algorithm can be improved to reach 100%, though it’s a task for another time.\nCheck out the project on Github.\n","wordCount":"1022","inLanguage":"en","datePublished":"2022-04-22T00:00:00Z","dateModified":"2022-04-22T00:00:00Z","author":{"@type":"Person","name":"Taylor Deckard"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.taylordeckard.me/blog/posts/wordle/"},"publisher":{"@type":"Organization","name":"Taylor's Blog","logo":{"@type":"ImageObject","url":"https://www.taylordeckard.me/blog/favicon.ico"}}}</script>
</head>
<body id=top>
<script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script>
<header class=header>
<nav class=nav>
<div class=logo>
<a href=https://www.taylordeckard.me/blog accesskey=h title="Blog (Alt + H)">Blog</a>
<span class=logo-switches>
<button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
</button>
</span>
</div>
<ul id=menu>
<li>
<a href=https://www.taylordeckard.me/blog/archives title=Archives>
<span>Archives</span>
</a>
</li>
<li>
<a href=https://www.taylordeckard.me/blog/search title="Search (Alt + /)" accesskey=/>
<span>Search</span>
</a>
</li>
<li>
<a href=https://www.taylordeckard.me/blog/tags title=Tags>
<span>Tags</span>
</a>
</li>
<li>
<a href=https://taylordeckard.me title=taylordeckard.me>
<span>taylordeckard.me</span>
</a>
</li>
</ul>
</nav>
</header>
<main class=main>
<article class=post-single>
<header class=post-header>
<div class=breadcrumbs><a href=https://www.taylordeckard.me/blog>Home</a>&nbsp;»&nbsp;<a href=https://www.taylordeckard.me/blog/posts/>Posts</a></div>
<h1 class=post-title>
Wordle CLI with Node.js and TypeScript
</h1>
<div class=post-description>
How to build a Wordle CLI with Node.js and TypeScript
</div>
<div class=post-meta><span title="2022-04-22 00:00:00 +0000 UTC">April 22, 2022</span>&nbsp;·&nbsp;5 min&nbsp;·&nbsp;Taylor Deckard&nbsp;|&nbsp;<a href=https://github.com/taylordeckard/blog/tree/main/content/posts/wordle.md rel="noopener noreferrer" target=_blank>Suggest Changes</a>
</div>
</header>
<div class=post-content><p>A few months ago, our team was tasked with leading a new hire programming bootcamp. My focus has been creating course assignments for JavaScript, TypeScript, and Node.js. As a learning exercise, I created a CLI clone of the popular game <a href=https://www.nytimes.com/games/wordle/index.html>Wordle</a> to use as an example project.</p>
<p>For the bootcamp, I&rsquo;ve broken down the project into various learning exercises. These exercises are assessed by unit test cases and linting jobs that run in Concourse CI. The tasks are fairly basic introductory material and (in my opinion) are less interesting than the overall functionality of the project.</p>
<p>For instance, in order to accurately clone the actual Wordle, I did a bit of reverse-engineering that turned out to be fairly simple. Inspecting the Wordle web page JavaScript source reveals that all of the answers for each day are stored in an array of strings. The answer for the current day is determined by using an index derived from the number of days since the first day of Wordle (May 5, 2021.)</p>
<p>With this information, I began coding a program that:</p>
<ol>
<li>Fetches the actual Wordle web page index.html file and parses it to get the JavaScript source file.</li>
</ol>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=kr>public</span> <span class=kr>static</span> <span class=nx>parseWordleIndex</span><span class=p>(</span><span class=nx>html</span>: <span class=kt>string</span><span class=p>)</span> <span class=p>{</span>
  <span class=k>return</span> <span class=nx>html</span><span class=p>.</span><span class=nx>match</span><span class=p>(</span><span class=sr>/&lt;script src=&#34;(main.*?js)&#34;&gt;&lt;\/script&gt;/</span><span class=p>)</span><span class=o>?</span><span class=p>.[</span><span class=mi>1</span><span class=p>]</span> <span class=o>??</span> <span class=s1>&#39;&#39;</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></td></tr></table>
</div>
</div><ol start=2>
<li>Fetches the JavaScript file from step 1 and parses it to get the list of answers.</li>
</ol>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=kr>public</span> <span class=kr>static</span> <span class=nx>parseWordleJavascript</span><span class=p>(</span><span class=nx>jsFile</span>: <span class=kt>string</span><span class=p>)</span> <span class=p>{</span>
  <span class=k>try</span> <span class=p>{</span>
    <span class=kr>const</span> <span class=nx>array</span> <span class=o>=</span> <span class=nx>jsFile</span><span class=p>.</span><span class=nx>match</span><span class=p>(</span><span class=sr>/;var ..=(\[.*?\])/</span><span class=p>)</span><span class=o>?</span><span class=p>.[</span><span class=mi>1</span><span class=p>];</span>
    <span class=k>return</span> <span class=nx>JSON</span><span class=p>.</span><span class=nx>parse</span><span class=p>(</span><span class=nx>array</span> <span class=o>??</span> <span class=s1>&#39;[]&#39;</span><span class=p>);</span>
  <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>e</span><span class=p>)</span> <span class=p>{</span>
    <span class=k>return</span> <span class=p>[];</span>
  <span class=p>}</span>
<span class=p>}</span>
</code></pre></td></tr></table>
</div>
</div><ol start=3>
<li>Finds the number of days since May 5, 2021 and uses that to get the current day&rsquo;s answer.
<p class=codepen data-height=300 data-default-tab=js,result data-slug-hash=mdpgWBK data-user=taylordeckard style="height:300px;box-sizing:border-box;display:flex;align-items:center;justify-content:center;border:2px solid;margin:1em 0;padding:1em">
<span>See the Pen <a href=https://codepen.io/taylordeckard/pen/mdpgWBK>
Sample</a> by Taylor Deckard (<a href=https://codepen.io/taylordeckard>@taylordeckard</a>)
on <a href=https://codepen.io>CodePen</a>.</span>
</p>
<script async src=https://cpwebassets.codepen.io/assets/embed/ei.js></script>
</li>
</ol>
<p>From this point, all that is left is to write the CLI and game logic. I chose to use <a href=https://github.com/tj/commander.js>commander.js</a>, which is a nice wrapper for argument parsing and command execution. Basic setup looks like this:</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=kr>import</span> <span class=p>{</span> <span class=nx>program</span>  <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;commander&#39;</span><span class=p>;</span>
<span class=kr>import</span> <span class=p>{</span> <span class=nx>commands</span>  <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;./commands&#39;</span><span class=p>;</span>

<span class=nx>program</span>
  <span class=p>.</span><span class=nx>name</span><span class=p>(</span><span class=s1>&#39;wordle&#39;</span><span class=p>)</span>
  <span class=p>.</span><span class=nx>description</span><span class=p>(</span><span class=s1>&#39;A CLI Wordle clone&#39;</span><span class=p>)</span>
  <span class=p>.</span><span class=nx>version</span><span class=p>(</span><span class=s1>&#39;1.0.0&#39;</span><span class=p>);</span>

<span class=c1>// Split commands out into separate modules to keep things tidy.
</span><span class=c1>// Add each command to the program here.
</span><span class=c1></span><span class=nx>commands</span><span class=p>.</span><span class=nx>forEach</span><span class=p>((</span><span class=nx>command</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=p>{</span>
  <span class=kd>let</span> <span class=nx>pgm</span> <span class=o>=</span> <span class=nx>program</span>
    <span class=p>.</span><span class=nx>command</span><span class=p>(</span><span class=nx>command</span><span class=p>.</span><span class=nx>name</span><span class=p>)</span>
    <span class=p>.</span><span class=nx>description</span><span class=p>(</span><span class=nx>command</span><span class=p>.</span><span class=nx>description</span><span class=p>);</span>
  <span class=k>if</span> <span class=p>(</span><span class=nx>command</span><span class=p>.</span><span class=nx>options</span><span class=o>?</span><span class=p>.</span><span class=nx>length</span><span class=p>)</span> <span class=p>{</span>
    <span class=nx>command</span><span class=p>.</span><span class=nx>options</span><span class=p>.</span><span class=nx>forEach</span><span class=p>((</span><span class=nx>opt</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=p>{</span>
      <span class=nx>pgm</span> <span class=o>=</span> <span class=nx>pgm</span><span class=p>.</span><span class=nx>option</span><span class=p>(</span><span class=nx>opt</span><span class=p>.</span><span class=nx>invocation</span><span class=p>,</span> <span class=nx>opt</span><span class=p>.</span><span class=nx>description</span><span class=p>,</span> <span class=nx>opt</span><span class=p>.</span><span class=k>default</span><span class=p>);</span>
    <span class=p>});</span>
  <span class=p>}</span>
  <span class=nx>pgm</span> <span class=o>=</span> <span class=nx>pgm</span><span class=p>.</span><span class=nx>action</span><span class=p>(</span><span class=nx>command</span><span class=p>.</span><span class=nx>action</span><span class=p>);</span>
<span class=p>});</span>

<span class=nx>program</span><span class=p>.</span><span class=nx>parse</span><span class=p>(</span><span class=nx>process</span><span class=p>.</span><span class=nx>argv</span><span class=p>);</span>
</code></pre></td></tr></table>
</div>
</div><p>The game logic is pretty straight-forward. It give the user 6 chances to guess the correct word. After each guess, log green/yellow colors to indicate correctness.</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=cm>/**
</span><span class=cm> * Note: This is a snippet from a class method. The DataService
</span><span class=cm> * is a singleton used to retrieve and store remote data,
</span><span class=cm> * such as the Wordle answer list.
</span><span class=cm> */</span>
<span class=kr>const</span> <span class=nx>ds</span> <span class=o>=</span> <span class=nx>DataService</span><span class=p>.</span><span class=nx>instance</span><span class=p>;</span>
<span class=k>this</span><span class=p>.</span><span class=nx>_solution</span> <span class=o>=</span> <span class=p>(</span><span class=k>await</span> <span class=nx>ds</span><span class=p>.</span><span class=nx>solution</span><span class=p>)</span> <span class=o>??</span> <span class=s1>&#39;&#39;</span><span class=p>;</span>
<span class=c1>// See next code snippet for the Prompter logic
</span><span class=c1></span><span class=kr>const</span> <span class=nx>prompter</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Prompter</span><span class=p>();</span>
<span class=c1>// MAX_ATTEMPTS is 6 
</span><span class=c1></span><span class=k>for</span> <span class=p>(</span><span class=kd>let</span> <span class=nx>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=nx>MAX_ATTEMPTS</span><span class=p>;</span> <span class=nx>i</span> <span class=o>+=</span> <span class=mi>1</span><span class=p>)</span> <span class=p>{</span>
  <span class=c1>// Pass in the number of attempts remaining to inform the user
</span><span class=c1></span>  <span class=kr>const</span> <span class=p>{</span> <span class=nx>guess</span> <span class=p>}</span> <span class=o>=</span> <span class=k>await</span> <span class=nx>prompter</span><span class=p>.</span><span class=nx>promptUserGuess</span><span class=p>(</span><span class=nx>MAX_ATTEMPTS</span> <span class=o>-</span> <span class=nx>i</span><span class=p>);</span>
  <span class=c1>// Print results
</span><span class=c1></span>  <span class=k>new</span> <span class=nx>Guess</span><span class=p>(</span><span class=nx>guess</span><span class=p>,</span> <span class=k>this</span><span class=p>.</span><span class=nx>_solution</span><span class=p>)</span>
	<span class=p>.</span><span class=nx>markGreen</span><span class=p>()</span>
	<span class=p>.</span><span class=nx>markYellow</span><span class=p>()</span>
	<span class=p>.</span><span class=nx>logOutput</span><span class=p>();</span>

  <span class=k>if</span> <span class=p>(</span><span class=nx>guess</span> <span class=o>===</span> <span class=k>this</span><span class=p>.</span><span class=nx>_solution</span><span class=p>)</span> <span class=p>{</span>
	<span class=nx>Logger</span><span class=p>.</span><span class=nx>printf</span><span class=p>(</span><span class=nx>YOU_WIN</span><span class=p>);</span>
	<span class=k>this</span><span class=p>.</span><span class=nx>_solved</span> <span class=o>=</span> <span class=kc>true</span><span class=p>;</span>
	<span class=k>break</span><span class=p>;</span>
  <span class=p>}</span>
<span class=p>}</span>
<span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=k>this</span><span class=p>.</span><span class=nx>_solved</span><span class=p>)</span> <span class=p>{</span>
  <span class=nx>Logger</span><span class=p>.</span><span class=nx>printf</span><span class=p>(</span><span class=nx>YOU_LOSE</span><span class=p>,</span> <span class=k>this</span><span class=p>.</span><span class=nx>_solution</span><span class=p>);</span>
<span class=p>}</span>
</code></pre></td></tr></table>
</div>
</div><p>For prompting the user, I chose to use the <a href=https://github.com/SBoudrias/Inquirer.js>inquirer.js</a> module. It allows for input transformation and validation.</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=kr>public</span> <span class=kr>async</span> <span class=nx>promptUserGuess</span><span class=p>(</span><span class=nx>attemptsRemaining</span>: <span class=kt>number</span><span class=p>)</span> <span class=p>{</span>
  <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=k>this</span><span class=p>.</span><span class=nx>_acceptableGuesses</span><span class=p>)</span> <span class=p>{</span>
    <span class=kr>const</span> <span class=nx>ds</span> <span class=o>=</span> <span class=nx>DataService</span><span class=p>.</span><span class=nx>instance</span><span class=p>;</span>
    <span class=k>this</span><span class=p>.</span><span class=nx>_acceptableGuesses</span> <span class=o>=</span> <span class=k>await</span> <span class=nx>ds</span><span class=p>.</span><span class=nx>wordlist</span><span class=p>;</span>
  <span class=p>}</span>

  <span class=k>return</span> <span class=nx>inquirer</span><span class=p>.</span><span class=nx>prompt</span><span class=p>([</span>
    <span class=p>{</span>
      <span class=nx>message</span><span class=o>:</span> <span class=sb>`Guess a 5-letter word (</span><span class=si>${</span><span class=nx>attemptsRemaining</span><span class=si>}</span><span class=sb> attempts remaining):`</span><span class=p>,</span>
      <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;guess&#39;</span><span class=p>,</span>
      <span class=nx>transformer</span><span class=o>:</span> <span class=p>(</span><span class=nx>input</span>: <span class=kt>string</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=nx>input</span><span class=p>.</span><span class=nx>toLowerCase</span><span class=p>(),</span>
      <span class=kr>type</span><span class=o>:</span> <span class=s1>&#39;input&#39;</span><span class=p>,</span>
      <span class=nx>validate</span>: <span class=kt>Validator.checkGuess.bind</span><span class=p>(</span><span class=k>this</span><span class=p>,</span> <span class=k>this</span><span class=p>.</span><span class=nx>_acceptableGuesses</span><span class=p>),</span>
    <span class=p>},</span>
  <span class=p>]);</span>
<span class=p>}</span>
</code></pre></td></tr></table>
</div>
</div><p>Finally, the logic for colorizing the guesses is:</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=cm>/**
</span><span class=cm> * Marks letters of the guess as green (correct)
</span><span class=cm> *
</span><span class=cm> * @returns {Guess} guess
</span><span class=cm> */</span>
<span class=kr>public</span> <span class=nx>markGreen() {</span>
  <span class=c1>// iterate over each letter of the guess
</span><span class=c1></span>  <span class=k>for</span> <span class=p>(</span><span class=kd>let</span> <span class=nx>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=mi>5</span><span class=p>;</span> <span class=nx>i</span> <span class=o>+=</span> <span class=mi>1</span><span class=p>)</span> <span class=p>{</span>
    <span class=kr>const</span> <span class=nx>guessChar</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>_guess</span><span class=p>[</span><span class=nx>i</span><span class=p>];</span>
    <span class=kr>const</span> <span class=nx>actualChar</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>_solution</span><span class=p>[</span><span class=nx>i</span><span class=p>];</span>
    <span class=c1>// if the character in the guess matches the character at the
</span><span class=c1></span>    <span class=c1>// same index of the solution, it should be marked green
</span><span class=c1></span>    <span class=k>if</span> <span class=p>(</span><span class=nx>guessChar</span> <span class=o>===</span> <span class=nx>actualChar</span><span class=p>)</span> <span class=p>{</span>
      <span class=k>this</span><span class=p>.</span><span class=nx>_output</span><span class=p>[</span><span class=nx>i</span><span class=p>]</span> <span class=o>=</span> <span class=nx>Colorizer</span><span class=p>.</span><span class=nx>green</span><span class=p>(</span><span class=nx>guessChar</span><span class=p>);</span>
      <span class=k>this</span><span class=p>.</span><span class=nx>_correctness</span><span class=p>[</span><span class=nx>i</span><span class=p>]</span> <span class=o>=</span> <span class=nx>Correctness</span><span class=p>.</span><span class=nx>GREEN</span><span class=p>;</span>
      <span class=k>this</span><span class=p>.</span><span class=nx>_remainingChars</span><span class=p>[</span><span class=nx>i</span><span class=p>]</span> <span class=o>=</span> <span class=s1>&#39;&#39;</span><span class=p>;</span>
    <span class=p>}</span>
  <span class=p>}</span>
  <span class=k>return</span> <span class=k>this</span><span class=p>;</span>
<span class=p>}</span>

<span class=cm>/**
</span><span class=cm> * Marks letters of the guess as yellow (included in solution but wrong index)
</span><span class=cm> *
</span><span class=cm> * @returns {Guess} guess
</span><span class=cm> */</span>
<span class=kr>public</span> <span class=nx>markYellow() {</span>
  <span class=c1>// iterate over each letter of the guess
</span><span class=c1></span>  <span class=k>for</span> <span class=p>(</span><span class=kd>let</span> <span class=nx>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=mi>5</span><span class=p>;</span> <span class=nx>i</span> <span class=o>+=</span> <span class=mi>1</span><span class=p>)</span> <span class=p>{</span>
    <span class=kr>const</span> <span class=nx>guessChar</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>_guess</span><span class=p>[</span><span class=nx>i</span><span class=p>];</span>
    <span class=cm>/* if the character is included in the _remainingChars and does not
</span><span class=cm>       match the current index of the solution, mark yellow
</span><span class=cm>       note:  _remainingChars is an array of characters of the solution
</span><span class=cm>       that have not been marked green */</span>
    <span class=k>if</span> <span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>_remainingChars</span><span class=p>.</span><span class=nx>includes</span><span class=p>(</span><span class=nx>guessChar</span><span class=p>)</span> <span class=o>&amp;&amp;</span> <span class=nx>guessChar</span> <span class=o>!==</span> <span class=k>this</span><span class=p>.</span><span class=nx>_solution</span><span class=p>[</span><span class=nx>i</span><span class=p>])</span> <span class=p>{</span>
      <span class=k>this</span><span class=p>.</span><span class=nx>_correctness</span><span class=p>[</span><span class=nx>i</span><span class=p>]</span> <span class=o>=</span> <span class=nx>Correctness</span><span class=p>.</span><span class=nx>YELLOW</span><span class=p>;</span>
      <span class=k>this</span><span class=p>.</span><span class=nx>_output</span><span class=p>[</span><span class=nx>i</span><span class=p>]</span> <span class=o>=</span> <span class=nx>Colorizer</span><span class=p>.</span><span class=nx>yellow</span><span class=p>(</span><span class=nx>guessChar</span><span class=p>);</span>
    <span class=p>}</span>
  <span class=p>}</span>
  <span class=k>return</span> <span class=k>this</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></td></tr></table>
</div>
</div><p>Now it&rsquo;s done. The program can be executed with:</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-sh data-lang=sh>npm start -- start
</code></pre></td></tr></table>
</div>
</div><p>Later, I started working on another command that tries to solve the Wordle puzzle using an algorithm. For a start, I filtered the list of possible words based on previous guess outcomes. Then, I tested the algorithm against the list of wordle answers. I began tweaking the algorithm from there, doing things like trying different starting words or using strategies to eliminate letters.</p>
<p><img loading=lazy src=/blog/images/wordle/a_few_hours_later.jpeg alt="A few hours later">
</p>
<p>I was able adjust enough to achieve ~99.61% win accuracy. The automation can be run with:</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-sh data-lang=sh>npm start -- solve
</code></pre></td></tr></table>
</div>
</div><p>I&rsquo;m sure the algorithm can be improved to reach 100%, though it&rsquo;s a task for another time.</p>
<p><a href=https://github.com/taylordeckard/node-wordle-cli>Check out the project on Github.</a></p>
</div>
<footer class=post-footer>
<ul class=post-tags>
<li><a href=https://www.taylordeckard.me/blog/tags/programming/>programming</a></li>
<li><a href=https://www.taylordeckard.me/blog/tags/node.js/>node.js</a></li>
<li><a href=https://www.taylordeckard.me/blog/tags/typescript/>typescript</a></li>
</ul>
<nav class=paginav>
<a class=next href=https://www.taylordeckard.me/blog/posts/vim-1/>
<span class=title>Next Page »</span>
<br>
<span>Vim Intro</span>
</a>
</nav>
</footer>
</article>
</main>
<a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a>
<script>let menu=document.getElementById('menu');menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script>
<script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script>
<script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script>
<script>document.querySelectorAll('pre > code').forEach(b=>{const c=b.parentNode.parentNode,a=document.createElement('button');a.classList.add('copy-code'),a.innerText='copy';function d(){a.innerText='copied!',setTimeout(()=>{a.innerText='copy'},2e3)}a.addEventListener('click',e=>{if('clipboard'in navigator){navigator.clipboard.writeText(b.textContent),d();return}const a=document.createRange();a.selectNodeContents(b);const c=window.getSelection();c.removeAllRanges(),c.addRange(a);try{document.execCommand('copy'),d()}catch(a){}c.removeRange(a)}),c.classList.contains("highlight")?c.appendChild(a):c.parentNode.firstChild==c||(b.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?b.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(a):b.parentNode.appendChild(a))})</script>
</body>
</html>